"use strict";(self.webpackChunkstatus_network_docs=self.webpackChunkstatus_network_docs||[]).push([[285],{5265:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var r=t(4848),s=t(8453);const i={},o="\u4f7f\u7528 Hardhat \u90e8\u7f72\u667a\u80fd\u5408\u7ea6",a={id:"tutorials/deploying-contracts/using-hardhat",title:"\u4f7f\u7528 Hardhat \u90e8\u7f72\u667a\u80fd\u5408\u7ea6",description:"\u672c\u6559\u7a0b\u5c06\u6307\u5bfc\u60a8\u4f7f\u7528 Hardhat\u3001Hardhat Ignition \u548c TypeScript \u5728 Status Network \u6d4b\u8bd5\u7f51\u4e0a\u90e8\u7f72\u667a\u80fd\u5408\u7ea6\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/tutorials/deploying-contracts/using-hardhat.md",sourceDirName:"tutorials/deploying-contracts",slug:"/tutorials/deploying-contracts/using-hardhat",permalink:"/zh/tutorials/deploying-contracts/using-hardhat",draft:!1,unlisted:!1,editUrl:"https://github.com/status-im/status-network-docs/tree/main/docs/tutorials/deploying-contracts/using-hardhat.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udd0e Block Explorers",permalink:"/zh/tools/block-explorers"},next:{title:"\u2692\ufe0f Using Foundry",permalink:"/zh/tutorials/deploying-contracts/using-foundry"}},l={},c=[{value:"\u524d\u63d0\u6761\u4ef6",id:"\u524d\u63d0\u6761\u4ef6",level:2},{value:"\u60a8\u5c06\u5b8c\u6210",id:"\u60a8\u5c06\u5b8c\u6210",level:2},{value:"\u6b65\u9aa4",id:"\u6b65\u9aa4",level:2},{value:"1. \u521d\u59cb\u5316 Hardhat TypeScript \u9879\u76ee",id:"1-\u521d\u59cb\u5316-hardhat-typescript-\u9879\u76ee",level:3},{value:"2. \u7f16\u5199\u667a\u80fd\u5408\u7ea6",id:"2-\u7f16\u5199\u667a\u80fd\u5408\u7ea6",level:3},{value:"3. \u4e3a Status Network \u914d\u7f6e Hardhat",id:"3-\u4e3a-status-network-\u914d\u7f6e-hardhat",level:3},{value:"4. \u521b\u5efa Ignition \u90e8\u7f72\u6a21\u5757",id:"4-\u521b\u5efa-ignition-\u90e8\u7f72\u6a21\u5757",level:3},{value:"5. \u90e8\u7f72\u5408\u7ea6",id:"5-\u90e8\u7f72\u5408\u7ea6",level:3},{value:"7. \u4e0e\u5408\u7ea6\u4ea4\u4e92",id:"7-\u4e0e\u5408\u7ea6\u4ea4\u4e92",level:3},{value:"\u652f\u6301",id:"\u652f\u6301",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"\u4f7f\u7528-hardhat-\u90e8\u7f72\u667a\u80fd\u5408\u7ea6",children:"\u4f7f\u7528 Hardhat \u90e8\u7f72\u667a\u80fd\u5408\u7ea6"})}),"\n",(0,r.jsx)(e.p,{children:"\u672c\u6559\u7a0b\u5c06\u6307\u5bfc\u60a8\u4f7f\u7528 Hardhat\u3001Hardhat Ignition \u548c TypeScript \u5728 Status Network \u6d4b\u8bd5\u7f51\u4e0a\u90e8\u7f72\u667a\u80fd\u5408\u7ea6\u3002"}),"\n",(0,r.jsx)(e.h2,{id:"\u524d\u63d0\u6761\u4ef6",children:"\u524d\u63d0\u6761\u4ef6"}),"\n",(0,r.jsx)(e.p,{children:"\u5f00\u59cb\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u60a8\u5177\u5907\u4ee5\u4e0b\u6761\u4ef6\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Node.js \u548c npm"}),": \u4ece",(0,r.jsx)(e.a,{href:"https://nodejs.org/",children:"\u5b98\u65b9 Node.js \u7f51\u7ad9"}),"\u4e0b\u8f7d\u5e76\u5b89\u88c5"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u4ee5\u592a\u574a\u94b1\u5305"}),": MetaMask \u6216\u5176\u4ed6\u5177\u6709 Status Network \u6d4b\u8bd5\u7f51\u79c1\u94a5\u7684\u94b1\u5305"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u6d4b\u8bd5\u7f51 ETH"}),": \u60a8\u9700\u8981 Status Network \u6d4b\u8bd5\u7f51 ETH","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u4ece\u6211\u4eec\u7684",(0,r.jsx)(e.a,{href:"/tools/testnet-faucets",children:"\u6c34\u9f99\u5934"}),"\u83b7\u53d6 Status Network \u6d4b\u8bd5\u7f51 ETH"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u57fa\u7840\u77e5\u8bc6"}),": \u719f\u6089 Solidity\u3001Hardhat \u548c\u547d\u4ee4\u884c"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u60a8\u5c06\u5b8c\u6210",children:"\u60a8\u5c06\u5b8c\u6210"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u521d\u59cb\u5316\u57fa\u4e8e TypeScript \u7684 Hardhat \u9879\u76ee"}),"\n",(0,r.jsx)(e.li,{children:"\u7f16\u5199\u57fa\u672c\u7684\u4ee5\u592a\u574a\u667a\u80fd\u5408\u7ea6"}),"\n",(0,r.jsx)(e.li,{children:"\u914d\u7f6e Hardhat \u4ee5\u90e8\u7f72\u5230 Status Network \u6d4b\u8bd5\u7f51"}),"\n",(0,r.jsx)(e.li,{children:"\u4f7f\u7528 Hardhat Ignition \u90e8\u7f72\u60a8\u7684\u667a\u80fd\u5408\u7ea6"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u6b65\u9aa4",children:"\u6b65\u9aa4"}),"\n",(0,r.jsx)(e.h3,{id:"1-\u521d\u59cb\u5316-hardhat-typescript-\u9879\u76ee",children:"1. \u521d\u59cb\u5316 Hardhat TypeScript \u9879\u76ee"}),"\n",(0,r.jsx)(e.p,{children:"\u9996\u5148\uff0c\u521b\u5efa\u5e76\u8bbe\u7f6e\u60a8\u7684\u9879\u76ee\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"mkdir my-hardhat-project && cd my-hardhat-project\nnpm init -y\nnpm install --save-dev hardhat @nomicfoundation/hardhat-toolbox dotenv\nnpx hardhat init\n"})}),"\n",(0,r.jsx)(e.p,{children:'\u5f53\u63d0\u793a\u65f6\uff0c\u9009\u62e9"Create a TypeScript project"\u4ee5\u8bbe\u7f6e\u57fa\u4e8e TypeScript \u7684 Hardhat \u9879\u76ee\u3002'}),"\n",(0,r.jsx)(e.p,{children:"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'# \u521b\u5efa .env \u6587\u4ef6\ntouch .env\n\n# \u6dfb\u52a0\u60a8\u7684\u79c1\u94a5\uff08\u6c38\u8fdc\u4e0d\u8981\u63d0\u4ea4\u6b64\u6587\u4ef6\uff01\uff09\necho "PRIVATE_KEY=your_private_key_here" >> .env\n'})}),"\n",(0,r.jsx)(e.h3,{id:"2-\u7f16\u5199\u667a\u80fd\u5408\u7ea6",children:"2. \u7f16\u5199\u667a\u80fd\u5408\u7ea6"}),"\n",(0,r.jsxs)(e.p,{children:["\u521b\u5efa ",(0,r.jsx)(e.code,{children:"contracts/HelloWorld.sol"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-solidity",children:'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.24;\n\ncontract HelloWorld {\n    string public greet = "Hello, Status Network!";\n\n    function setGreet(string memory _greet) public {\n        greet = _greet;\n    }\n\n    function getGreet() public view returns (string memory) {\n        return greet;\n    }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"3-\u4e3a-status-network-\u914d\u7f6e-hardhat",children:"3. \u4e3a Status Network \u914d\u7f6e Hardhat"}),"\n",(0,r.jsxs)(e.p,{children:["\u66f4\u65b0 ",(0,r.jsx)(e.code,{children:"hardhat.config.ts"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:'import { HardhatUserConfig } from "hardhat/config";\nimport "@nomicfoundation/hardhat-toolbox";\nimport * as dotenv from "dotenv";\n\ndotenv.config();\n\nconst PRIVATE_KEY = process.env.PRIVATE_KEY || "";\n\nconst config: HardhatUserConfig = {\n  solidity: "0.8.24",\n  networks: {\n    statusTestnet: {\n      url: "https://public.sepolia.rpc.status.network",\n      chainId: 1660990954,\n      accounts: [PRIVATE_KEY],\n    },\n  },\n};\n\nexport default config;\n'})}),"\n",(0,r.jsx)(e.h3,{id:"4-\u521b\u5efa-ignition-\u90e8\u7f72\u6a21\u5757",children:"4. \u521b\u5efa Ignition \u90e8\u7f72\u6a21\u5757"}),"\n",(0,r.jsxs)(e.p,{children:["\u521b\u5efa ",(0,r.jsx)(e.code,{children:"ignition/modules/HelloWorld.ts"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:'import { buildModule } from "@nomicfoundation/hardhat-ignition/modules";\n\nexport default buildModule("HelloWorld", (m) => {\n  const helloWorld = m.contract("HelloWorld");\n  \n  return { helloWorld };\n});\n'})}),"\n",(0,r.jsx)(e.h3,{id:"5-\u90e8\u7f72\u5408\u7ea6",children:"5. \u90e8\u7f72\u5408\u7ea6"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"npx hardhat compile\nnpx hardhat ignition deploy ignition/modules/HelloWorld.ts --network statusTestnet\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u90e8\u7f72\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u76ee\u5f55 ",(0,r.jsx)(e.code,{children:"ignition/deployments"}),"\uff0c\u5176\u4e2d\u5305\u542b\u60a8\u7684\u90e8\u7f72\u4ea7\u7269\u548c\u5386\u53f2\u8bb0\u5f55\u3002"]}),"\n",(0,r.jsx)(e.h3,{id:"7-\u4e0e\u5408\u7ea6\u4ea4\u4e92",children:"7. \u4e0e\u5408\u7ea6\u4ea4\u4e92"}),"\n",(0,r.jsxs)(e.p,{children:["\u521b\u5efa ",(0,r.jsx)(e.code,{children:"scripts/interact.ts"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:'import { ethers } from "hardhat";\nimport { HelloWorld } from "../typechain-types";\n\nasync function main() {\n  const contractAddress = "0x0d8a93870494Fa21ec39602f31Aa67C9Fed5604f";\n  const HelloWorld = await ethers.getContractFactory("HelloWorld");\n  const contract = HelloWorld.attach(contractAddress) as HelloWorld;\n\n  // \u8bfb\u53d6\u5f53\u524d\u95ee\u5019\u8bed\n  const greeting = await contract.getGreet();\n  console.log("Current greeting:", greeting);\n\n  // \u66f4\u65b0\u95ee\u5019\u8bed\n  const tx = await contract.setGreet("Hello from Status Network!");\n  await tx.wait();\n  console.log("Greeting updated!");\n\n  // \u8bfb\u53d6\u66f4\u65b0\u540e\u7684\u95ee\u5019\u8bed\n  const newGreeting = await contract.getGreet();\n  console.log("New greeting:", newGreeting);\n}\n\nmain().catch((error) => {\n  console.error(error);\n  process.exitCode = 1;\n});\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u8fd0\u884c\u4ea4\u4e92\u811a\u672c\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"npx hardhat run scripts/interact.ts --network statusTestnet\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u652f\u6301",children:"\u652f\u6301"}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u9047\u5230\u95ee\u9898\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u52a0\u5165\u6211\u4eec\u7684 ",(0,r.jsx)(e.a,{href:"https://t.me/+k04A_OZbhIs1Mzc9",children:"Telegram \u793e\u533a"})]}),"\n",(0,r.jsxs)(e.li,{children:["\u67e5\u770b",(0,r.jsx)(e.a,{href:"https://health.status.network",children:"\u7f51\u7edc\u72b6\u6001"})]}),"\n",(0,r.jsxs)(e.li,{children:["\u67e5\u770b",(0,r.jsx)(e.a,{href:"/general-info/network-details",children:"\u7f51\u7edc\u8be6\u60c5"})]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>o,x:()=>a});var r=t(6540);const s={},i=r.createContext(s);function o(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);