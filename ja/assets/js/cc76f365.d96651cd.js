"use strict";(self.webpackChunkstatus_network_docs=self.webpackChunkstatus_network_docs||[]).push([[3888],{79:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"tutorials/running-an-rpc","title":"Running Your Own RPC Node","description":"Complete guide to setting up and running your own RPC node for Status Network using the official RPC tools. Learn about node setup, configuration, and maintenance.","source":"@site/docs/tutorials/running-an-rpc.md","sourceDirName":"tutorials","slug":"/tutorials/running-an-rpc","permalink":"/ja/tutorials/running-an-rpc","draft":false,"unlisted":false,"editUrl":"https://github.com/status-im/docs.status.network/tree/develop/docs/tutorials/running-an-rpc.md","tags":[],"version":"current","lastUpdatedAt":1762184355000,"frontMatter":{"title":"Running Your Own RPC Node","description":"Complete guide to setting up and running your own RPC node for Status Network using the official RPC tools. Learn about node setup, configuration, and maintenance.","keywords":["RPC node","Status Network RPC","blockchain node","WebSocket","wss","self-hosted RPC","network infrastructure","Status L2 RPC tools"]},"sidebar":"tutorialSidebar","previous":{"title":"\ud83c\udfd7 Using Scaffold-ETH 2","permalink":"/ja/tutorials/deploying-contracts/using-se2"},"next":{"title":"\ud83d\udd17 Official Links","permalink":"/ja/other/official-links"}}');var i=s(4848),o=s(8453);const r={title:"Running Your Own RPC Node",description:"Complete guide to setting up and running your own RPC node for Status Network using the official RPC tools. Learn about node setup, configuration, and maintenance.",keywords:["RPC node","Status Network RPC","blockchain node","WebSocket","wss","self-hosted RPC","network infrastructure","Status L2 RPC tools"]},l="Running Your Own RPC Node",c={},d=[{value:"Getting Started",id:"getting-started",level:2},{value:"Complete Setup Guide",id:"complete-setup-guide",level:3},{value:"Node Options",id:"node-options",level:2},{value:"Verifying Your Node",id:"verifying-your-node",level:2},{value:"Basic Verification",id:"basic-verification",level:3},{value:"Health &amp; Sync Verification",id:"health--sync-verification",level:3},{value:"WebSocket Support",id:"websocket-support",level:2},{value:"WebSocket Connection",id:"websocket-connection",level:3},{value:"Example Subscriptions",id:"example-subscriptions",level:3},{value:"Advanced Features",id:"advanced-features",level:2},{value:"Batch Requests",id:"batch-requests",level:3},{value:"Resource-Intensive Methods",id:"resource-intensive-methods",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Monitoring Your Node",id:"monitoring-your-node",level:3},{value:"Storage Planning",id:"storage-planning",level:2},{value:"Disk Space Requirements",id:"disk-space-requirements",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Support",id:"support",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"running-your-own-rpc-node",children:"Running Your Own RPC Node"})}),"\n",(0,i.jsx)(n.p,{children:"This tutorial will guide you through the process of setting up and running your own Remote Procedure Call (RPC) node for Status Network. By running your own RPC node, you can gain greater control over your interactions with the Status Network, enhance privacy, and reduce reliance on third-party services."}),"\n",(0,i.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"https://github.com/status-im/status-l2-rpc-tools",children:"Status Network RPC Tools repository"})," provides all the necessary tooling, genesis files, and setup scripts to run your own RPC node."]}),"\n",(0,i.jsx)(n.h3,{id:"complete-setup-guide",children:"Complete Setup Guide"}),"\n",(0,i.jsxs)(n.p,{children:["For detailed setup instructions, prerequisites, system requirements, and step-by-step guidance, please refer to the ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://github.com/status-im/status-l2-rpc-tools/blob/master/README.md",children:"official README"})})," in the repository."]}),"\n",(0,i.jsx)(n.h2,{id:"node-options",children:"Node Options"}),"\n",(0,i.jsx)(n.p,{children:"The setup script provides two node implementations to choose from:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Besu Node"}),": Runs on port ",(0,i.jsx)(n.code,{children:"8545"})," (",(0,i.jsx)(n.a,{href:"http://localhost:8545",children:"http://localhost:8545"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Geth Node"}),": Runs on port ",(0,i.jsx)(n.code,{children:"8445"})," (",(0,i.jsx)(n.a,{href:"http://localhost:8445",children:"http://localhost:8445"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"You can run either one or both simultaneously depending on your needs."}),"\n",(0,i.jsx)(n.h2,{id:"verifying-your-node",children:"Verifying Your Node"}),"\n",(0,i.jsxs)(n.p,{children:["In the examples below, replace ",(0,i.jsx)(n.code,{children:"<YOUR_CLIENT_PORT>"})," with ",(0,i.jsx)(n.code,{children:"8545"})," if using Besu, or ",(0,i.jsx)(n.code,{children:"8445"})," if using Geth."]}),"\n",(0,i.jsx)(n.h3,{id:"basic-verification",children:"Basic Verification"}),"\n",(0,i.jsx)(n.p,{children:"Once your node is running, verify it's working correctly:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# You should receive a response with the current block number.\ncurl -X POST \\\n  -H "Content-Type: application/json" \\\n  -d \'{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}\' \\\n  http://localhost:<YOUR_CLIENT_PORT>\n'})}),"\n",(0,i.jsx)(n.h3,{id:"health--sync-verification",children:"Health & Sync Verification"}),"\n",(0,i.jsx)(n.p,{children:"For comprehensive node health checks:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Check your node\'s syncing status. Returns false if the node is in sync.\ncurl -X POST \\\n  -H "Content-Type: application/json" \\\n  -d \'{"jsonrpc":"2.0","method":"eth_syncing","params":[],"id":1}\' \\\n  http://localhost:<YOUR_CLIENT_PORT>\n\n# Verify your node\'s number of connected peers (should be > 0)\ncurl -X POST \\\n  -H "Content-Type: application/json" \\\n  -d \'{"jsonrpc":"2.0","method":"net_peerCount","params":[],"id":1}\' \\\n  http://localhost:<YOUR_CLIENT_PORT>\n'})}),"\n",(0,i.jsx)(n.p,{children:"An up-to-date and healthy node should show:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"eth_blockNumber"})," matches a trusted reference (like the public RPC or block explorer)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"eth_syncing"})," returns ",(0,i.jsx)(n.code,{children:"false"})," (fully synced)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"net_peerCount"})," is greater than 0 (connected to peers)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"websocket-support",children:"WebSocket Support"}),"\n",(0,i.jsx)(n.p,{children:"Your node also supports WebSocket connections for real-time event subscriptions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# WebSocket endpoint\nws://localhost:8546  # Besu\nws://localhost:8446  # Geth\n"})}),"\n",(0,i.jsx)(n.h3,{id:"websocket-connection",children:"WebSocket Connection"}),"\n",(0,i.jsx)(n.h3,{id:"example-subscriptions",children:"Example Subscriptions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'// Subscribe to new block headers\n{"jsonrpc":"2.0","method":"eth_subscribe","params":["newHeads"],"id":1}\n\n// Subscribe to logs matching a filter\n{"jsonrpc":"2.0","method":"eth_subscribe","params":["logs",{"address":"0x..."}],"id":1}\n\n// Unsubscribe\n{"jsonrpc":"2.0","method":"eth_unsubscribe","params":["0x..."],"id":1}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"advanced-features",children:"Advanced Features"}),"\n",(0,i.jsx)(n.h3,{id:"batch-requests",children:"Batch Requests"}),"\n",(0,i.jsx)(n.p,{children:"Your node supports batch JSON-RPC requests for improved efficiency:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default batch cap"}),": 1,024 requests per batch"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Configuration"}),": Tunable via ",(0,i.jsx)(n.code,{children:"--rpc-http-max-batch-size"})," (set to ",(0,i.jsx)(n.code,{children:"1"})," for unlimited)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Max request size"}),": 5 MB (default ",(0,i.jsx)(n.code,{children:"--rpc-http-max-request-content-length"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"resource-intensive-methods",children:"Resource-Intensive Methods"}),"\n",(0,i.jsx)(n.p,{children:"Be aware of methods that may require longer response times:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Response Time"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"eth_getLogs"})," (large ranges)"]}),(0,i.jsx)(n.td,{children:"200ms \u2013 several seconds"}),(0,i.jsx)(n.td,{children:"Use bounded ranges and bloom filters"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"eth_estimateGas"})}),(0,i.jsx)(n.td,{children:"200ms \u2013 several seconds"}),(0,i.jsx)(n.td,{children:"May be slower under load or with complex contracts"})]})]})]}),"\n",(0,i.jsx)(n.admonition,{title:"Performance Tip",type:"tip",children:(0,i.jsx)(n.p,{children:"For production use, start with low-thousands read RPS and scale horizontally based on your specific workload and hardware tests."})}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Port Already in Use"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check what's using port 8545 (Besu) or 8445 (Geth)\nlsof -i :8545\nlsof -i :8445\n\n# Kill the process if needed\nkill -9 <PID>\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Docker Container Issues"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check running containers\ndocker ps\n\n# View container logs\ndocker compose logs -f\n\n# Restart containers\ndocker compose restart\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Node Not Syncing"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check your internet connection"}),"\n",(0,i.jsx)(n.li,{children:"Verify you have sufficient disk space"}),"\n",(0,i.jsxs)(n.li,{children:["Check the Docker container logs: ",(0,i.jsx)(n.code,{children:"docker compose logs"})]}),"\n",(0,i.jsx)(n.li,{children:"Ensure your system meets the minimum requirements"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"RPC Endpoint Not Responding"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Verify containers are running: ",(0,i.jsx)(n.code,{children:"docker ps"})]}),"\n",(0,i.jsx)(n.li,{children:"Check firewall settings"}),"\n",(0,i.jsx)(n.li,{children:"Ensure the RPC ports (8545, 8445) are accessible"}),"\n",(0,i.jsx)(n.li,{children:"Review container logs for errors"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"monitoring-your-node",children:"Monitoring Your Node"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check Docker containers status\ndocker compose ps\n\n# Monitor container logs\ndocker compose logs -f\n\n# Monitor disk usage\ndf -h\n\n# Check network connections\nnetstat -tulpn | grep :8545\nnetstat -tulpn | grep :8445\n"})}),"\n",(0,i.jsx)(n.h2,{id:"storage-planning",children:"Storage Planning"}),"\n",(0,i.jsx)(n.h3,{id:"disk-space-requirements",children:"Disk Space Requirements"}),"\n",(0,i.jsx)(n.p,{children:"Plan your storage capacity based on growth:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Initial size: ~200 GB (after 6 months, ~12M transactions with 2s blocks)"}),"\n",(0,i.jsx)(n.li,{children:"Growth rate: Moderate, depends on network activity"}),"\n",(0,i.jsx)(n.li,{children:"Recommended: 2 TB Gen4 NVMe for headroom"}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"Plan for Growth",type:"warning",children:(0,i.jsx)(n.p,{children:"Always provision extra storage capacity beyond the current requirement to ensure continued operation."})}),"\n",(0,i.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,i.jsx)(n.p,{children:"When running your own RPC node:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Firewall Configuration"}),": Only expose necessary ports (8545, 8445)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Access Control"}),": Consider implementing authentication for production use"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Network Isolation"}),": Avoid exposing RPC endpoints directly to the internet"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Regular Updates"}),": Keep your node software and Docker images updated"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Backup"}),": Regularly backup your node configuration (data can be re-synced if needed)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Rate Limiting"}),": Implement rate limiting if exposing to multiple users"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"Production Deployment",type:"caution",children:(0,i.jsx)(n.p,{children:"For production use, avoid relying on public RPC endpoints due to rate limits. Running your own private RPC node provides better reliability and performance."})}),"\n",(0,i.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,i.jsx)(n.p,{children:"To optimize your RPC node performance:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SSD Storage"}),": Use Gen4 NVMe storage for better I/O performance"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sufficient RAM"}),": Ensure adequate memory for caching (32\u201348 GB recommended)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Network Bandwidth"}),": Stable 1+ Gbps connection for syncing and peer communication"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"CPU Resources"}),": Adequate processing power for transaction validation (8\u201312 cores recommended)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Horizontal Scaling"}),": For high-traffic applications, run multiple nodes behind a load balancer"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"support",children:"Support"}),"\n",(0,i.jsx)(n.p,{children:"If you encounter any issues:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Check the ",(0,i.jsx)(n.a,{href:"https://github.com/status-im/status-l2-rpc-tools/blob/master/README.md",children:"official README"})," for the latest updates"]}),"\n",(0,i.jsxs)(n.li,{children:["Review our ",(0,i.jsx)(n.a,{href:"/general-info/network-details",children:"Network Details"})," and docs in general"]}),"\n",(0,i.jsxs)(n.li,{children:["Join our ",(0,i.jsx)(n.a,{href:"https://t.me/statusl2",children:"Telegram Community"})," for support"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/status-im/status-l2-rpc-tools",children:"Status Network RPC Tools Repository"})," - Official repository with setup guide and scripts"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://docs.status.network/",children:"Status Network Documentation"})," - Official docs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://sepoliascan.status.network",children:"Status Network Block Explorer"})," - Sepolia testnet explorer"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var t=s(6540);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);